# Test info

- Name: External User >> Add user >> verify add external user
- Location: /Users/babuyadav/Documents/zillit-playwright-automation/src/tests/16_external-userTest.spec.js:36:9

# Error details

```
Error: locator.click: Target page, context or browser has been closed
Call log:
  - waiting for locator('//span[@class="ant-menu-title-content"]//span[text()="Tools"]')

    at ExternalUser.clickExternalUserTab (/Users/babuyadav/Documents/zillit-playwright-automation/src/pages/external-user.js:25:26)
    at /Users/babuyadav/Documents/zillit-playwright-automation/src/tests/16_external-userTest.spec.js:24:32
```

# Page snapshot

```yaml
- complementary:
  - img "Zillit Logo"
  - img
  - paragraph: Turn on Notification
  - paragraph: Get notified of a new message or call on computer.
  - button "Turn on desktop notification"
  - menu:
    - menuitem "poweroff Logout":
      - img "poweroff"
      - text: Logout
- main:
  - img "search"
  - textbox "Search projects..."
  - combobox
  - text: All Projects
  - img "loading"
  - paragraph: Loading...
- img "loading"
- text: Syncing badges...
```

# Test source

```ts
   1 | import { expect } from '@playwright/test';
   2 | export default class ExternalUser {
   3 |
   4 |     constructor(page){
   5 |         this.page = page;
   6 |
   7 |         this.tools = page.locator('//span[@class="ant-menu-title-content"]//span[text()="Tools"]');
   8 |         this.externalUser = page.locator('//span[@class="filmtools-card-title"]//span[text()="External Users"]');
   9 |
  10 |         this.addUserPlusIcon = page.locator('[aria-label="plus"]');
  11 |         this.name = page.locator('#full_name');
  12 |         this.email = page.locator('#email');
  13 |         this.phone = page.locator('#phone');
  14 |         this.submit = page.locator('#external_user_submit_button');
  15 |
  16 |         /**
  17 |          * edit, delete locators
  18 |          */ 
  19 |         this.editButton = page.locator('#external_user_edit_user_button');
  20 |         this.deleteButton = page.locator('[aria-label="delete"]');
  21 |
  22 |     }
  23 |
  24 |     async clickExternalUserTab(){
> 25 |         await this.tools.click();
     |                          ^ Error: locator.click: Target page, context or browser has been closed
  26 |         await this.externalUser.click();
  27 |     }
  28 |
  29 |     async addUser(){
  30 |         await this.addUserPlusIcon.click();
  31 |         await this.name.fill('Bhavik');
  32 |         await this.email.fill('Bhavik@gmail.com');
  33 |         await this.page.locator('//span[@class="ant-select-selection-item"]').nth(1).click();
  34 |         await this.page.waitForTimeout(500);
  35 |         await this.page.keyboard.press('Enter');
  36 |         await this.phone.fill('12345');
  37 |         await this.page.locator('//span[@class="ant-select-selection-item"]').nth(2).click();
  38 |         await this.page.waitForTimeout(500);
  39 |         await this.page.keyboard.press('Enter');
  40 |         await this.page.locator('//span[@class="ant-select-selection-item"]').last().click();
  41 |         await this.page.waitForTimeout(500);
  42 |         await this.page.keyboard.press('Enter');
  43 |         await this.page.waitForTimeout(500);
  44 |         await this.page.locator('//span[@class="ant-select-selection-item"]').last().click();
  45 |         await this.page.waitForTimeout(500);
  46 |         await this.page.keyboard.press('Enter');
  47 |         await this.submit.click();
  48 |
  49 |         const successMsg = await this.page.locator('text=External user information has been added successfully.');
  50 |         await successMsg.waitFor({ state: 'visible' });
  51 |         await successMsg.waitFor({ state: 'hidden' });
  52 |     }
  53 |
  54 |     async delete(){
  55 |         await this.deleteButton.click();
  56 |         await this.page.locator('//div[@class="ant-popconfirm-buttons"]//button').nth(1).click();
  57 |
  58 |         const successMsg = await this.page.locator('text=External user information has been deleted.');
  59 |         await successMsg.waitFor({ state: 'visible' });
  60 |         await successMsg.waitFor({ state: 'hidden' });
  61 |     }
  62 |
  63 | }
```