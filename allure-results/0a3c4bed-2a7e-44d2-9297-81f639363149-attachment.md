# Test info

- Name: Continuity >> All Department >> verify all department continuity scene
- Location: /Users/babuyadav/Documents/zillit-playwright-automation/src/tests/08_continuityTest.spec.js:51:9

# Error details

```
Error: locator.click: Target page, context or browser has been closed
Call log:
  - waiting for locator('//div[contains(@class,"select_departments_list")]//div[text()="Production"]')

    at Continuity.allDepartmentScene (/Users/babuyadav/Documents/zillit-playwright-automation/src/pages/continuity.js:151:31)
    at /Users/babuyadav/Documents/zillit-playwright-automation/src/tests/08_continuityTest.spec.js:52:13
```

# Page snapshot

```yaml
- complementary:
  - img "Zillit Logo"
  - img
  - paragraph: Turn on Notification
  - paragraph: Get notified of a new message or call on computer.
  - button "Turn on desktop notification"
  - button "right-circle":
    - img "right-circle"
  - menu:
    - menuitem "FilmTools Logo Home":
      - img "FilmTools Logo"
      - text: Home
    - menuitem "Email":
      - img
      - text: Email
    - menuitem "FilmTools Logo Tools":
      - img "FilmTools Logo"
      - text: Tools
    - menuitem "FilmTools Logo C & C":
      - img "FilmTools Logo"
      - text: C & C
    - menuitem "FilmTools Logo Settings":
      - img "FilmTools Logo"
      - text: Settings
    - menuitem "FilmTools Logo SOS":
      - img "FilmTools Logo"
      - text: SOS
    - menuitem "question Zillit Help":
      - img "question"
      - text: Zillit Help
    - menuitem "poweroff Logout":
      - img "poweroff"
      - text: Logout
  - img "user"
  - button "Zl automation50 down":
    - strong: Zl automation50
    - img "down"
- main:
  - strong:
    - img "highlight"
    - paragraph: Customize functionality of 'Tools'. To add/remove modules, please go toâ€˜Settings -> Admin Settings -> Customization of tools or Click Here
  - textbox "Search tools..."
  - paragraph: Film Tools
  - text: Accounts
  - img
  - text: Asset Report
  - img
  - text: Box / Film Schedule
  - img
  - text: Budget (Department)
  - img
  - text: Budget (Full)
  - img
  - text: Casting (Background Cast)
  - img
  - text: Casting (Main Cast)
  - img
  - text: Catering
  - img
  - text: Confidential Info
  - img
  - text: Continuity
  - img
  - text: Continuity Script Notes
  - img
  - text: Costume (Background Cast)
  - img
  - text: Costume (Main Cast)
  - img
  - text: Crew List
  - img
  - text: Distribution List
  - img
  - text: Documents & Signature
  - img
  - text: External Users
  - img
  - text: Info
  - img
  - text: Location
  - img
  - text: Production Report
  - img
  - text: Purchase Order
  - img
  - text: Schedule D.O.D.
  - img
  - text: Schedule Full & One Line
  - img
  - text: Script & Pages Distribution
  - img
  - text: Transportation
  - img
  - text: Viewing & Posting Rights Grid
  - img
  - text: Weather
  - img
```

# Test source

```ts
   51 |
   52 |
   53 |     }
   54 |
   55 |
   56 |     async clickContinuityTab(){
   57 |         await this.tools.click();
   58 |         await this.continuity.click();
   59 |     }
   60 |
   61 |
   62 |     async uploadMedia(){
   63 |         await this.attachment.click();
   64 |         await this.uploadMediaButton.setInputFiles(mediapaths.image);
   65 |         await this.upload.click(); 
   66 |         
   67 |         await this.enterSceneNumber.fill('99');
   68 |         await this.enterEpisodeNumber.fill('88');
   69 |         await this.description.fill('Romantic scene');
   70 |         await this.submit.click();
   71 |     }
   72 |
   73 |     async openSceneFolder(){
   74 |         await this.sceneFolder.first().waitFor({ state: 'visible' });
   75 |         const count = await this.sceneFolder.count();
   76 |         if(count == 1){
   77 |             await this.sceneFolder.click();
   78 |         } else if(count > 1){
   79 |             await this.sceneFolder.first().click();
   80 |         } else {
   81 |             console.log('Not scene folder available');
   82 |         }
   83 |     }
   84 |
   85 |     async threeDots(){
   86 |         await this.more.first().waitFor({ state: 'visible' });
   87 |         const count = await this.more.count();
   88 |         if(count == 1){
   89 |             await this.more.click();
   90 |         } else if(count > 1){
   91 |             await this.more.first().click();
   92 |         } else {
   93 |             console.log('Not image is avialable');
   94 |         }
   95 |     }
   96 |
   97 |     async edit(){
   98 |         await this.threeDots();
   99 |         await this.editDetails.click();
  100 |         await this.description.fill('Romantic scene for villain');
  101 |         await this.update.click();
  102 |
  103 |         const successMsg = await this.page.locator('text=Scene has been updated successfully.');
  104 |         await successMsg.waitFor({ state: 'visible' });
  105 |         await successMsg.waitFor({ state: 'hidden' });
  106 |     }
  107 |
  108 |     async forward(){
  109 |         await this.threeDots();
  110 |         await this.forwardButton.first().click();
  111 |         await this.okButton.nth(1).click();
  112 |
  113 |         const checkboxButton = await this.page.locator('//input[@class="ant-checkbox-input"]');
  114 |         const count = await checkboxButton.count();
  115 |         if(count == 1){
  116 |             await checkboxButton.check();
  117 |             await expect(checkboxButton).toBeChecked();
  118 |         } else if(count > 1){
  119 |             await checkboxButton.first().check();
  120 |             await expect(checkboxButton.first()).toBeChecked();
  121 |         } else{
  122 |             console.log('Not checkboxbutton available');
  123 |         }
  124 |
  125 |         await this.continuityForward.click();
  126 |         await this.allDepartment.click();
  127 |     
  128 |         const successMsg = await this.page.locator('text=Scene(s) have been forwarded successfully.');
  129 |         await successMsg.waitFor({ state: 'visible' });
  130 |         await successMsg.waitFor({ state: 'hidden' });
  131 |     }
  132 |
  133 |     async delete(){
  134 |         await this.threeDots();
  135 |         await this.deleteButton.click();
  136 |         await this.okButton.nth(1).click();
  137 |     
  138 |         const successMsg = await this.page.locator('text=Media deleted successfully');
  139 |         await successMsg.waitFor({ state: 'visible' });
  140 |         await successMsg.waitFor({ state: 'hidden' });
  141 |         //await this.close.click();
  142 |     }
  143 |
  144 |     async myDepartment(){
  145 |         await this.myDepartmentTab.click();
  146 |     }
  147 |
  148 |     async allDepartmentScene(){
  149 |         await this.allDepartmentTab.click();
  150 |         await this.openSceneFolder();
> 151 |         await this.production.click();
      |                               ^ Error: locator.click: Target page, context or browser has been closed
  152 |     }
  153 |
  154 |     async closeWindow(){
  155 |         await this.close.click();
  156 |     }
  157 |
  158 | }
```