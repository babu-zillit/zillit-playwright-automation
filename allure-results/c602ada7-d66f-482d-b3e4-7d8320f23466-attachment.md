# Test info

- Name: Contrcat Signature >> Delete signature >> verify upload documents and see list
- Location: /Users/babuyadav/Documents/zillit-playwright-automation/src/tests/contract-signatureTest.spec.js:85:9

# Error details

```
Error: locator.setInputFiles: Error: strict mode violation: locator('input[type="file"]') resolved to 2 elements:
    1) <input accept="" type="file"/> aka locator('input[type="file"]').first()
    2) <input type="file" class="hidden" name="form_attachment" accept=".pdf, .doc, .docx, .pdf, .doc, .docx, application/pdf, application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document, application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document"/> aka locator('input[name="form_attachment"]')

Call log:
  - waiting for locator('input[type="file"]')

    at ContractSignature.uploadDocumentAndSeeList (/Users/babuyadav/Documents/zillit-playwright-automation/src/pages/contract-signature.js:258:9)
    at /Users/babuyadav/Documents/zillit-playwright-automation/src/tests/contract-signatureTest.spec.js:86:12
```

# Page snapshot

```yaml
- complementary:
  - img "Zillit Logo"
  - img
  - paragraph: Turn on Notification
  - paragraph: Get notified of a new message or call on computer.
  - button "Turn on desktop notification"
  - menu:
    - menuitem "FilmTools Logo Home":
      - img "FilmTools Logo"
      - text: Home
    - menuitem "Email":
      - img
      - text: Email
    - menuitem "FilmTools Logo Tools":
      - img "FilmTools Logo"
      - text: Tools
    - menuitem "FilmTools Logo C & C":
      - img "FilmTools Logo"
      - text: C & C
    - menuitem "FilmTools Logo Settings":
      - img "FilmTools Logo"
      - text: Settings
    - menuitem "FilmTools Logo SOS":
      - img "FilmTools Logo"
      - text: SOS
    - menuitem "question Zillit Help":
      - img "question"
      - text: Zillit Help
    - menuitem "poweroff Logout":
      - img "poweroff"
      - text: Logout
  - img "user"
  - button "Zl automation51 down":
    - strong: Zl automation51
    - img "down"
  - superscript
- main:
  - link:
    - /url: /film-tools/form-signature
    - img
  - heading "Upload Documents & See the List" [level=2]
  - button "Upload Document"
  - textbox "Search"
  - button "search":
    - img "search"
  - button "Contract"
  - button "Form"
  - paragraph: CONTRACTS
  - paragraph: TYPE
  - paragraph: UPLOADED ON
  - paragraph: UPLOADED BY
  - paragraph: ACTION
- dialog:
  - button "Close":
    - img "close"
  - text: Upload Contract Name
  - textbox "Contract Name": Test Contract
  - button "upload Browse your Contract":
    - img "upload"
    - text: Browse your Contract
  - paragraph: PDF / Doc format only
  - text: Add Note
  - textbox "Add Note"
  - paragraph: Add note if any
  - paragraph: Select the type of the Contract.
  - radio "Is this a Crew Contract?" [checked]
  - text: Is this a Crew Contract?
  - radio "Is this a Third Party Contract (Outside the Project) ?"
  - text: Is this a Third Party Contract (Outside the Project) ?
  - paragraph: Does this Contract contain your signature?
  - radio "Yes"
  - text: "Yes"
  - radio "No" [checked]
  - text: "No"
  - button "Next"
```

# Test source

```ts
  158 |         const canvas = this.page.locator('//canvas[@class="h-full"]');
  159 |         await canvas.waitFor({ state: 'visible' });
  160 |
  161 |         const box = await canvas.boundingBox();
  162 |         if (!box) throw new Error('Canvas not in layout or is not visible');
  163 |
  164 |         const startX = box.x + box.width * 0.15;
  165 |         const startY = box.y + box.height * 0.55;
  166 |
  167 |         const relativePoints = [
  168 |         
  169 |             [0, 0], [0, -40], [30, -40], [30, -20], [0, -20],
  170 |             [0, -20], [30, -20], [30, 0], [0, 0],
  171 |
  172 |             [50, 0], [50, -40], [80, 0], [65, -20], [50, 0],
  173 |
  174 |             [100, 0], [100, -40], [130, -40], [130, -20], [100, -20],
  175 |             [100, -20], [130, -20], [130, 0], [100, 0],
  176 |
  177 |             [150, -40], [150, 0], [180, 0], [180, -40]
  178 |         ];
  179 |
  180 |         await this.page.mouse.move(startX, startY);
  181 |         await this.page.mouse.down();
  182 |
  183 |         for (const [dx, dy] of relativePoints) {
  184 |             const x = startX + dx;
  185 |             const y = startY + dy;
  186 |             // smoothness: small delay and move granularity
  187 |             await this.page.mouse.move(x, y, { steps: 8 });
  188 |         }
  189 |
  190 |         await this.page.mouse.up();
  191 |
  192 |         await this.save.click();
  193 |     }
  194 |
  195 |     async deleteSignature(){
  196 |         await this.signatureBlock.click();
  197 |         await this.deleteSignatureButton.click();
  198 |         await this.deleteConfirmationButton.nth(1).click();
  199 |     
  200 |         const successMsg = await this.page.locator('text=Document signature has been deleted successfully.');
  201 |         await successMsg.waitFor({ state: 'visible' });
  202 |         await successMsg.waitFor({ state: 'hidden' });
  203 |     }
  204 |
  205 |
  206 |     async standardFormAndContractsAndYourDocument(){
  207 |         await this.standardFormAndContractsYourDocuments.click();
  208 |
  209 |         const documentLocator = this.page.locator('//p[text()="Test Form" or text()="Test Contract"]');
  210 |         if (await documentLocator.count() > 0) {
  211 |             await documentLocator.first().click();
  212 |         } else {
  213 |             console.log("No document uploaded");
  214 |         }
  215 |         await this.addToYourDocument.click();
  216 |         await this.ok.click();    
  217 |     }
  218 |
  219 |     async yourDocuments(){
  220 |         await this.page.locator('#your_documents_button');
  221 |         const documentLocator = this.page.locator('//p[text()="Test Form" or text()="Test Contract"]');
  222 |         if (await documentLocator.count() > 0) {
  223 |             await documentLocator.first().click();
  224 |         } else {
  225 |             console.log("No document uploaded");
  226 |         }
  227 |
  228 |         await this.page.locator('#common_add_signature_modal_open_button').click();
  229 |         await this.page.locator('//img[@alt="signature"]').click();
  230 |         await this.page.locator('#common_sign_document_button').click();
  231 |         await this.page.locator('#common_send_document_button').click();
  232 |
  233 |         const successMsg = await this.page.locator('text=Document has been signed successfully.');
  234 |         await successMsg.waitFor({ state: 'visible' });
  235 |         await successMsg.waitFor({ state: 'hidden' });
  236 |     }
  237 |
  238 |     async deleteAllDocument(){
  239 |         await this.page.locator('#all_documents_button').click();
  240 |
  241 |         const deleteButton = await this.deleteStandardFormDocuments.count();
  242 |         if (deleteButton > 0) {
  243 |             await this.deleteStandardFormDocuments.first().click();
  244 |             await this.deleteConfirmationButtonStandardForm.click();
  245 |
  246 |             const successMsg = await this.page.locator('text=Document deleted successfully.');
  247 |             await successMsg.waitFor({ state: 'visible' });
  248 |             await successMsg.waitFor({ state: 'hidden' });
  249 |         } else {
  250 |             console.log("No document to delete");
  251 |         }
  252 |     }
  253 |
  254 |     async uploadDocumentAndSeeList(){
  255 |         await this.uploadDocumentsAndSeeList.click();
  256 |         await this.page.locator('#common_upload_document_drawer_open_button').click();
  257 |         await this.page.locator('[placeholder="Contract Name"]').fill('Test Contract')
> 258 |         await this.browseYourContracts.setInputFiles(mediapaths.document);
      |         ^ Error: locator.setInputFiles: Error: strict mode violation: locator('input[type="file"]') resolved to 2 elements:
  259 |         await this.page.locator('#upload_document_select_users_screen_open_button').click();
  260 |         await this.page.locator('#send_for_signature_select_deselect_users_button').click();
  261 |         await this.page.locator('#revise_document_confirmation_screen_open_button').click();
  262 |         await this.page.locator('#new_document_upload_button').click();
  263 |
  264 |         const successMsg = await this.page.locator('text=Document has been sent for signature.');
  265 |             await successMsg.waitFor({ state: 'visible' });
  266 |             await successMsg.waitFor({ state: 'hidden' });
  267 |     }
  268 |
  269 |     async navigiateBack() {
  270 |          await this.page.goBack();
  271 |     }
  272 |
  273 |
  274 |
  275 | }
```