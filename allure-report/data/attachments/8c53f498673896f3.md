# Test info

- Name: Accounts >> Account module >> account test casess
- Location: /Users/babuyadav/Documents/zillit-playwright-automation/src/tests/accountTest.spec.js:34:9

# Error details

```
Error: locator.click: Target page, context or browser has been closed
Call log:
  - waiting for locator('//span[@class="ant-menu-title-content"]//span[text()="Tools"]')

    at Accounts.clickAccountTab (/Users/babuyadav/Documents/zillit-playwright-automation/src/pages/accounts.js:45:26)
    at /Users/babuyadav/Documents/zillit-playwright-automation/src/tests/accountTest.spec.js:24:27
```

# Test source

```ts
   1 | import { expect } from '@playwright/test';
   2 | import logger from "../utils/loggerUtils";
   3 |
   4 | export default class Accounts {
   5 |
   6 |     constructor(page){
   7 |         this.page = page;
   8 |
   9 |         this.tools = page.locator('//span[@class="ant-menu-title-content"]//span[text()="Tools"]');
   10 |         this.settings = page.locator('//span[@class="ant-menu-title-content"]//span[text()="Settings"]');
   11 |
   12 |         /**
   13 |          * Account page locators
   14 |          */
   15 |         this.accountSetting = page.locator('[id="account_setting"]');
   16 |         this.createAccountUnitButton = page.locator('[id="create_home_unit_drawer_open_button"]');
   17 |         this.enterAccountUnitName = page.locator('[placeholder="Unit Name"]');
   18 |         this.okButton = page.locator('//div[@class="ant-modal-footer"]//button//span[text()="Ok"]');
   19 |         this.selectUserButton = page.locator('#accounts_select_user_button');
   20 |         this.deleteAccountUnitButton = page.locator('(//span[@aria-label="delete"])[3]');
   21 |
   22 |         /**
   23 |          * Edit profile locators
   24 |          */
   25 |         this.editProfile = page.locator("text=Edit Profile");
   26 |         this.department = page.locator('(//div[@class="ant-select-selector"])[1]');
   27 |         this.close = page.locator('text=Close');
   28 |         this.designation = page.locator("(//span[@class='ant-select-selection-item'])[2]");
   29 |         this.submit = page.locator('[id="submit_edit_profile_button"]');
   30 |
   31 |         /**
   32 |          * Send message locators
   33 |          */
   34 |         this.typeYourMessage = page.locator('textarea[placeholder="Type your message"]');
   35 |         this.sendButton = page.locator('span[aria-label="send"]');
   36 |     }
   37 |
   38 |     
   39 |     async clickTools(){
   40 |         await this.tools.click();
   41 |     }
   42 |
   43 |
   44 |     async clickAccountTab(){
>  45 |         await this.tools.click();
      |                          ^ Error: locator.click: Target page, context or browser has been closed
   46 |         await this.page.locator('div.ant-card-body').getByText('Accounts').click();
   47 |     }
   48 |
   49 |
   50 |     async selectUser(){
   51 |         await this.selectUserButton.click();
   52 |         await this.page.locator('.h-10.w-10.bg-orange-500.rounded-full.text-xl').first().click();
   53 |     }
   54 |
   55 |
   56 |     async openEditProfile(){
   57 |         await this.settings.click();
   58 |         await this.editProfile.click();
   59 |     }
   60 |
   61 |
   62 |     async changeDepartmentAndDesignation(departmentName, designationName){
   63 |
   64 |         await this.department.waitFor({ state: 'visible' });
   65 |         await this.department.click();
   66 |
   67 |         if(await this.close.isVisible()){
   68 |             await this.close.click();
   69 |             await this.department.click();
   70 |         }
   71 |
   72 |         const departmentOptions = this.page.locator('.ant-select-dropdown .ant-select-item-option');
   73 |         await departmentOptions.first().waitFor({ state: 'visible' });
   74 |         console.log('Dropdown Options:', await departmentOptions.allTextContents());
   75 |
   76 |         const department = this.page.locator('.ant-select-dropdown .ant-select-item-option', { hasText: departmentName });
   77 |         await department.click();
   78 |
   79 |         await this.designation.click();
   80 |
   81 |         const designationOptions = this.page.locator('.ant-select-dropdown .ant-select-item-option');
   82 |         await designationOptions.first().waitFor({ state: 'visible' });
   83 |         console.log('Dropdown Options:', await designationOptions.allTextContents());
   84 |
   85 |         const designation = this.page.locator('.ant-select-dropdown .ant-select-item-option', { hasText: designationName });
   86 |         await designation.click();
   87 |
   88 |         await this.submit.click();
   89 |
   90 |         try{
   91 |             const successMsg = this.page.locator('text=Profile updated successfully.');
   92 |             await successMsg.waitFor({ state: 'visible' });
   93 |             await successMsg.waitFor({ state: 'hidden' });
   94 |
   95 |         }catch(error){
   96 |             console.log('Does not show any pop up after clicking on submit button');
   97 |         }
   98 |     }
   99 |
  100 |
  101 |     async createAccountUnit(){
  102 |         await this.settings.click();
  103 |         await this.accountSetting.click();
  104 |         await this.createAccountUnitButton.click();
  105 |         await this.enterAccountUnitName.fill('Babu');
  106 |         await this.okButton.click();
  107 |
  108 |         try{
  109 |             const successMsg = this.page.locator('text=A new unit has been created');
  110 |             await successMsg.waitFor({ state: 'visible' });
  111 |             await successMsg.waitFor({ state: 'hidden' });
  112 |
  113 |         }catch(error){
  114 |             console.log('Does not show any pop up after creating account unit');
  115 |         }
  116 |     }
  117 |
  118 |
  119 |     async editAccountUnit(){
  120 |         await this.settings.click();
  121 |         await this.accountSetting.click()
  122 |
  123 |         await this.page.locator('(//button[@id="edit_home_unit_modal_open_button"])[3]').click();
  124 |         await this.enterAccountUnitName.fill('Babu1');
  125 |         await this.okButton.click();
  126 |     }
  127 |
  128 |
  129 |     async deleteAccountUnit(){
  130 |         await this.settings.click();
  131 |         await this.accountSetting.click();
  132 |         await this.page.locator('(//span[@aria-label="delete"])[3]').click();
  133 |         await this.page.locator('//div[@class="ant-popconfirm-buttons"]//button//span[text()="Yes"]').click();
  134 |
  135 |         try{
  136 |             const successMsg = this.page.locator('text=Unit deleted successfully');
  137 |             await successMsg.waitFor({ state: 'visible' });
  138 |             await successMsg.waitFor({ state: 'hidden' });
  139 |
  140 |         }catch(error){
  141 |             console.log('Does not show any pop up after deleting account unit');
  142 |         }
  143 |     }
  144 |
  145 |
```