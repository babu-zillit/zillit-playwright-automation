# Test info

- Name: Contrcat Signature >> Standard Forms & Contracts and Your Documents >> verify verify the standrad form & contracts documents
- Location: /Users/babuyadav/Documents/zillit-playwright-automation/src/tests/contract-signatureTest.spec.js:66:9

# Error details

```
Error: locator.click: Target page, context or browser has been closed
Call log:
  - waiting for locator('#standard_form_add_to_your_documents_button')

    at ContractSignature.standardFormAndContractsAndYourDocument (/Users/babuyadav/Documents/zillit-playwright-automation/src/pages/contract-signature.js:217:38)
    at /Users/babuyadav/Documents/zillit-playwright-automation/src/tests/contract-signatureTest.spec.js:67:12
```

# Test source

```ts
  117 |             console.log("No document uploaded");
  118 |         }
  119 |
  120 |         await this.sendForSignature.click();
  121 |         await this.select.click();
  122 |         await this.next.click();
  123 |         await this.noItNew.click();
  124 |
  125 |         const successMsg1 = await this.page.locator('text=Document has been sent for signature.');
  126 |         await successMsg1.waitFor({ state: 'visible' });
  127 |         await successMsg1.waitFor({ state: 'hidden' });
  128 |
  129 |         await this.uploadToStandardFormButton.click();
  130 |
  131 |         const successMsg = await this.page.locator('text=Standard documents has been added successfully.');
  132 |         await successMsg.waitFor({ state: 'visible' });
  133 |         await successMsg.waitFor({ state: 'hidden' });
  134 |     }
  135 |
  136 |
  137 |     async delete(){
  138 |         const deleteButton = await this.deleteDocument.count();
  139 |         if (deleteButton > 0) {
  140 |             await this.deleteDocument.first().click();
  141 |             await this.deleteConfirmation.click();
  142 |
  143 |             const successMsg = await this.page.locator('text=Document deleted successfully.');
  144 |             await successMsg.waitFor({ state: 'visible' });
  145 |             await successMsg.waitFor({ state: 'hidden' });
  146 |         } else {
  147 |             console.log("No document to delete");
  148 |         }
  149 |     }
  150 |
  151 |
  152 |
  153 |     async drawSignatureWithMouse(){
  154 |         await this.signatureBlock.click();
  155 |         await this.addSignatureButton.click();
  156 |         await this.signatureNameInput.fill('Babu');
  157 |
  158 |         const canvas = this.page.locator('//canvas[@class="h-full"]');
  159 |         await canvas.waitFor({ state: 'visible' });
  160 |
  161 |         const box = await canvas.boundingBox();
  162 |         if (!box) throw new Error('Canvas not in layout or is not visible');
  163 |
  164 |         const startX = box.x + box.width * 0.15;
  165 |         const startY = box.y + box.height * 0.55;
  166 |
  167 |         const relativePoints = [
  168 |         
  169 |             [0, 0], [0, -40], [30, -40], [30, -20], [0, -20],
  170 |             [0, -20], [30, -20], [30, 0], [0, 0],
  171 |
  172 |             [50, 0], [50, -40], [80, 0], [65, -20], [50, 0],
  173 |
  174 |             [100, 0], [100, -40], [130, -40], [130, -20], [100, -20],
  175 |             [100, -20], [130, -20], [130, 0], [100, 0],
  176 |
  177 |             [150, -40], [150, 0], [180, 0], [180, -40]
  178 |         ];
  179 |
  180 |         await this.page.mouse.move(startX, startY);
  181 |         await this.page.mouse.down();
  182 |
  183 |         for (const [dx, dy] of relativePoints) {
  184 |             const x = startX + dx;
  185 |             const y = startY + dy;
  186 |             // smoothness: small delay and move granularity
  187 |             await this.page.mouse.move(x, y, { steps: 8 });
  188 |         }
  189 |
  190 |         await this.page.mouse.up();
  191 |
  192 |         await this.save.click();
  193 |         await this.page.waitForTimeout(3000);
  194 |     }
  195 |
  196 |     async deleteSignature(){
  197 |         await this.signatureBlock.click();
  198 |         await this.deleteSignatureButton.click();
  199 |         await this.deleteConfirmationButton.nth(1).click();
  200 |     
  201 |         const successMsg = await this.page.locator('text=Document signature has been deleted successfully.');
  202 |         await successMsg.waitFor({ state: 'visible' });
  203 |         await successMsg.waitFor({ state: 'hidden' });
  204 |     }
  205 |
  206 |
  207 |     async standardFormAndContractsAndYourDocument(){
  208 |         await this.standardFormAndContractsYourDocuments.click();
  209 |
  210 |         const documentLocator = await this.page.locator('xpath=//p[text()="Test Form" or text()="Test Contract"]');
  211 |         if (await documentLocator.count() > 0) {
  212 |             await documentLocator.first().waitFor({ state: 'visible' });
  213 |             await documentLocator.first().click();
  214 |         } else {
  215 |             console.log("No document uploaded");
  216 |         }
> 217 |         await this.addToYourDocument.click();
      |                                      ^ Error: locator.click: Target page, context or browser has been closed
  218 |         await this.ok.click();    
  219 |     }
  220 |
  221 |     async yourDocuments(){
  222 |         await this.page.locator('#your_documents_button');
  223 |         const documentLocator = this.page.locator('//p[text()="Test Form" or text()="Test Contract"]');
  224 |         if (await documentLocator.count() > 0) {
  225 |             await documentLocator.first().waitFor({ state: 'visible' });
  226 |             await documentLocator.first().click();
  227 |         } else {
  228 |             console.log("No document uploaded");
  229 |         }
  230 |
  231 |         await this.page.locator('#common_add_signature_modal_open_button').click();
  232 |         await this.page.locator('//img[@alt="signature"]').click();
  233 |         await this.page.locator('#common_sign_document_button').click();
  234 |         await this.page.locator('#common_send_document_button').click();
  235 |
  236 |         const successMsg = await this.page.locator('text=Document has been signed successfully.');
  237 |         await successMsg.waitFor({ state: 'visible' });
  238 |         await successMsg.waitFor({ state: 'hidden' });
  239 |     }
  240 |
  241 |     async deleteAllDocument(){
  242 |         await this.page.locator('#all_documents_button').click();
  243 |
  244 |         const deleteButton = await this.deleteStandardFormDocuments.count();
  245 |         if (deleteButton > 0) {
  246 |             await this.deleteStandardFormDocuments.first().click();
  247 |             await this.deleteConfirmationButtonStandardForm.click();
  248 |
  249 |             const successMsg = await this.page.locator('text=Document deleted successfully.');
  250 |             await successMsg.waitFor({ state: 'visible' });
  251 |             await successMsg.waitFor({ state: 'hidden' });
  252 |         } else {
  253 |             console.log("No document to delete");
  254 |         }
  255 |     }
  256 |
  257 |     async uploadDocumentAndSeeList(){
  258 |         await this.uploadDocumentsAndSeeList.click();
  259 |         await this.page.locator('#common_upload_document_drawer_open_button').click();
  260 |         await this.page.locator('[placeholder="Contract Name"]').fill('Test Contract')
  261 |         await this.browseYourContracts.setInputFiles(mediapaths.document);
  262 |         await this.page.locator('#upload_document_select_users_screen_open_button').click();
  263 |         await this.page.locator('#send_for_signature_select_deselect_users_button').click();
  264 |         await this.page.locator('#revise_document_confirmation_screen_open_button').click();
  265 |         await this.page.locator('#new_document_upload_button').click();
  266 |
  267 |         const successMsg = await this.page.locator('text=Document has been sent for signature.');
  268 |             await successMsg.waitFor({ state: 'visible' });
  269 |             await successMsg.waitFor({ state: 'hidden' });
  270 |     }
  271 |
  272 |     async navigiateBack() {
  273 |          await this.page.goBack();
  274 |     }
  275 |
  276 |
  277 |
  278 | }
```